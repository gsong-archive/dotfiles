#!/bin/bash

set -e

# Manually remove the brew cache, since that is the only way to force
# `brew cask install` to grab the latest versions of its recipes.
# https://github.com/phinze/homebrew-cask/issues/309#issuecomment-32470815
rm -rf "$(brew --cache)" && mkdir -p "$(brew --cache)"

brew unlink brew-cask
brew install caskroom/cask/brew-cask
brew tap caskroom/versions
brew update

## Quick Look plugins
caffeinate brew cask install --force qlcolorcode qlmarkdown qlprettypatch \
  qlstephen quicklook-csv quicklook-json webp-quicklook
qlmanage -r

## OS X apps
caffeinate brew cask install --force balsamiq-mockups cloud diskmaker-x \
  dispcalgui easyfind fluid flux handbrake keyboardcleantool namebench ngrok \
  nvalt onyx pandoc private-eye rescuetime screenhero tinkertool vagrant \
  virtualbox vuescan

## OS X preference panes
caffeinate brew cask install --force functionflip rcdefaultapp secrets

## Java 7
caffeinate brew cask install --force java7
