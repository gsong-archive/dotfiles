#!/usr/bin/env bash
set -e

mkdir -p "$(brew --cache)"
brew update-reset && brew update
brew upgrade
brew cleanup --force

# Homebrew utils
brew tap beeftornado/rmtree
brew install vitorgalvao/tiny-scripts/cask-repair

# Better versions of Mac built-ins
brew install bash bash-completion2 colordiff rsync
brew install grep --with-default-names
brew install gnu-sed --with-default-names

# Bash completions
brew install \
  bundler-completion django-completion docker-completion docker-compose-completion fabric-completion pip-completion rails-completion vagrant-completion

# General development
brew install automake git postgresql

# Needed for Python development
brew install gdbm pyenv pyenv-virtualenvwrapper

# Needed for textract
brew install antiword poppler tesseract

# Needed for magic
brew install libmagic

# Needed for Ruby development
brew install chruby libyaml ruby-install

# More nice-to-haves and various development libraries
brew unlink heroku

brew install \
  ack awscli ctags dos2unix graphviz guetzli heroku httpie hub imagemagick multimarkdown nmap nvm openssl pandoc qpdf redis s3cmd shellcheck sleepwatcher speedtest_cli ssh-copy-id sslmate swig terminal-notifier tmate tmux trash tree wdiff wget yarn

brew link heroku

brew install macvim --with-python3 --with-override-system-vim

# tmux copy and paste
brew install reattach-to-user-namespace
