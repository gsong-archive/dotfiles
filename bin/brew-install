#!/bin/bash

set -e

mkdir -p "$(brew --cache)"
brew cleanup --force
brew update
brew upgrade

# Better versions of Mac built-ins
brew install bash bash-completion2 colordiff homebrew/dupes/rsync
brew install homebrew/dupes/grep --default-names

# Bash completions
brew tap homebrew/completions
brew install bundler-completion django-completion pip-completion \
  rails-completion

# General development
brew install git postgresql

# Needed for Python development
brew install gdbm pyenv pyenv-virtualenvwrapper

# Needed for Rails development
brew install homebrew/dupes/apple-gcc42 libksba libyaml qt

# More nice-to-haves and various development libraries
brew install ack ctags dos2unix graphviz iftop imagemagick macvim mercurial \
  mtr multimarkdown ngrok node nviennot/tmate/tmate pandoc phantomjs qpdf \
  s3cmd shellcheck sleepwatcher ssh-copy-id swig terminal-notifier tmux trash \
  tree wdiff wget

# tmux copy and paste
brew install reattach-to-user-namespace

brew linkapps --local
