#!/bin/bash

set -e

brew cleanup
brew update
brew upgrade

brew tap | grep -q homebrew/dupes || brew tap homebrew/dupes
brew tap | grep -q nviennot/tmate || brew tap nviennot/tmate
brew tap | grep -q phinze/homebrew-cask || brew tap phinze/homebrew-cask

# Needed for Rails development
brew install apple-gcc42 autoconf pkg-config git postgresql qt

# Better versions of Mac built-ins
brew install bash bash-completion colordiff grep

# More nice-to-haves and various development libraries
brew install ack graphviz hub imagemagick jpegoptim maven mercurial mtr mmv \
             node optipng phantomjs python redis s3cmd sqlite ssh-copy-id \
             tmate wget wkhtmltopdf

# Quick Look plugins
brew install brew-cask
brew cask install qlcolorcode qlstephen qlmarkdown quicklook-json \
                  qlprettypatch quicklook-csv webp-quicklook
qlmanage -r

brew unlink python
brew link python
