#!/usr/bin/env bash
set -e

mkdir -p "$(brew --cache)"
brew update
brew upgrade --all
brew cleanup --force

# Homebrew utils
brew tap beeftornado/rmtree
brew install beeftornado/rmtree/brew-rmtree

# Better versions of Mac built-ins
brew tap homebrew/versions
brew install bash bash-completion2 colordiff homebrew/dupes/rsync
brew install homebrew/dupes/grep --default-names

# Bash completions
brew tap homebrew/completions
brew install \
  bundler-completion django-completion fabric-completion pip-completion rails-completion vagrant-completion

# General development
brew install automake git postgresql

# Needed for Python development
brew install gdbm pyenv pyenv-virtualenvwrapper

# Needed for textract
brew install antiword poppler tesseract

# Needed for magic
brew install libmagic

# Needed for Ruby development
brew install chruby ruby-install

# More nice-to-haves and various development libraries
brew install \
  ack ctags dos2unix graphviz heroku httpie hub iftop imagemagick libgit2 mackup mercurial mtr multimarkdown nvm openssl pandoc qpdf redis s3cmd shellcheck sleepwatcher speedtest_cli ssh-copy-id sslmate swig304 terminal-notifier tmate tmux trash tree wdiff wget

brew install macvim --env-std --with-override-system-vim

# tmux copy and paste
brew install reattach-to-user-namespace

brew linkapps --local
